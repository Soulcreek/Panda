<div id="cookieConsentBar" class="position-fixed bottom-0 start-0 end-0 p-3" style="background:rgba(0,0,0,0.85); color:#fff; z-index:2000; display:none;">
  <div class="container d-flex flex-column flex-md-row align-items-start align-items-md-center gap-3">
    <div class="flex-grow-1 small">
      Wir verwenden technisch notwendige Cookies (Session). Optionale Präferenzen (Dark Mode, Lernfortschritt) werden lokal gespeichert. Mit Klick auf "Akzeptieren" stimmen Sie der Speicherung Ihrer Präferenzen zu. Weitere Infos im <a href="/impressum" class="link-light text-decoration-underline">Impressum/Datenschutz</a>.
    </div>
    <div class="d-flex gap-2">
      <button id="cookieAcceptBtn" class="btn btn-sm btn-primary">Akzeptieren</button>
      <button id="cookieDeclineBtn" class="btn btn-sm btn-outline-light">Nur Notwendig</button>
    </div>
  </div>
</div>
<script>
(function(){
  const KEY='pp_cookie_consent_v1';
  function hide(){ const bar=document.getElementById('cookieConsentBar'); if(bar) bar.style.display='none'; }
  function show(){ const bar=document.getElementById('cookieConsentBar'); if(bar) bar.style.display='block'; }
  document.addEventListener('DOMContentLoaded', function(){
    if(!localStorage.getItem(KEY)) show();
    const acc=document.getElementById('cookieAcceptBtn'); const dec=document.getElementById('cookieDeclineBtn');
    acc&&acc.addEventListener('click', ()=>{ localStorage.setItem(KEY,'all'); hide(); });
    dec&&dec.addEventListener('click', ()=>{ localStorage.setItem(KEY,'necessary'); hide(); });
  });
})();
</script>
